<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CLI &mdash; SARF | Security Assesment and Reporting Framework 2022 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/js/mermaid.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CORE | Messages" href="../core/messages.html" />
    <link rel="prev" title="Detected needs" href="../common/needs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html"><img src="../_static/logo_rtd.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../common/roadmap_2022.html">SARF Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/needs.html">Detected needs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CLI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-a-custom-ftp-server-as-a-tools-storage-backend">Running a custom FTP Server as a tools storage backend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#add-the-output-of-a-tool-to-sarf">Add the output of a tool to SARF</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../core/messages.html">CORE | Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../listeners/database.html">Database listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/events.html">Talks in events</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SARF | Security Assesment and Reporting Framework</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>CLI</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/cli/quickstart.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="cli">
<h1>CLI<a class="headerlink" href="#cli" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">sarf</span></code></p>
<p>This version of <code class="docutils literal notranslate"><span class="pre">SARF</span></code> works with a <code class="docutils literal notranslate"><span class="pre">FTP</span></code> Server as a storage backend
and a <code class="docutils literal notranslate"><span class="pre">rabbitmq</span></code> as a pubsub.</p>
<div class="section" id="running-a-custom-ftp-server-as-a-tools-storage-backend">
<h3>Running a custom FTP Server as a tools storage backend<a class="headerlink" href="#running-a-custom-ftp-server-as-a-tools-storage-backend" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run -d <span class="se">\</span>
    -p <span class="m">21</span>:21 <span class="se">\</span>
    -p <span class="m">21000</span>-21010:21000-21010 <span class="se">\</span>
    -e <span class="nv">USERS</span><span class="o">=</span><span class="s2">&quot;sarf|sarf&quot;</span> <span class="se">\</span>
    --name <span class="s2">&quot;sarf_ftp&quot;</span> <span class="se">\</span>
    delfer/alpine-ftp-server
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Before continuing check you can access to the rabbitmq and the FTP.</p>
<p>Once all the components are installed we can write SARF configuration file
in /etc/sarf/config.yml. If this file does not exist, create it.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">messages</span><span class="p">:</span>
  <span class="c1"># Name to be sent in messages as the emitter</span>
  <span class="c1"># of the actions made with this instance</span>
  <span class="nt">emitter</span><span class="p">:</span> <span class="s">&quot;ethical</span><span class="nv"> </span><span class="s">hacker</span><span class="nv"> </span><span class="s">email</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">identifier&quot;</span>

  <span class="nt">tools</span><span class="p">:</span>
    <span class="nt">pub</span><span class="p">:</span>
      <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;rabbitmq&quot;</span>
      <span class="nt">connection_string</span><span class="p">:</span> <span class="s">&quot;&quot;</span>
      <span class="nt">queue</span><span class="p">:</span> <span class="s">&quot;tools&quot;</span>

<span class="nt">storage_backend</span><span class="p">:</span>
  <span class="nt">tools</span><span class="p">:</span>
    <span class="nt">upload</span><span class="p">:</span>
      <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;ftp&quot;</span>
      <span class="nt">conf</span><span class="p">:</span>
        <span class="nt">user</span><span class="p">:</span> <span class="s">&quot;sarf&quot;</span>
        <span class="nt">password</span><span class="p">:</span> <span class="s">&quot;sarf&quot;</span>
        <span class="nt">host</span><span class="p">:</span> <span class="s">&quot;127.0.0.1&quot;</span>
        <span class="nt">basedir</span><span class="p">:</span> <span class="s">&quot;/ftp/sarf&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="add-the-output-of-a-tool-to-sarf">
<h3>Add the output of a tool to SARF<a class="headerlink" href="#add-the-output-of-a-tool-to-sarf" title="Permalink to this headline">¶</a></h3>
<p>The output of any console tool can be redirected to sarf. It doesn’t matter if
these are in plain text or binary.
In order for sarf to prepare to receive the output of a tool, the <code class="docutils literal notranslate"><span class="pre">--ingest</span></code>
flag must be added to it.</p>
<p><code class="docutils literal notranslate"><span class="pre">nmap</span> <span class="pre">192.168.1.0/24</span> <span class="pre">|</span> <span class="pre">sarf</span> <span class="pre">--ingest</span> <span class="pre">--tags</span> <span class="pre">nmap,network:192.168.1.0</span> <span class="pre">--report</span> <span class="pre">lbk</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">--tags</span></code> flag is optional. It adds tags to the received data that can be
very useful to interconnect with other tools.</p>
<p>The received data must be associated with a report.
The chosen report will be obtained from the environment variable SARF_REPORT.
The chosen report can also be provided explicitly with the <code class="docutils literal notranslate"><span class="pre">--report</span></code> flag.</p>
<blockquote>
<div><p>This is all for now. SARF is at a very early stage of its development.
Give it a star on <a class="reference external" href="https://github.com/elchicodepython/SARF-Security-Assesment-and-Reporting-Framework">github</a> to find out all its progress.</p>
</div></blockquote>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../common/needs.html" class="btn btn-neutral float-left" title="Detected needs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../core/messages.html" class="btn btn-neutral float-right" title="CORE | Messages" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Samuel Lopez Saura.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>